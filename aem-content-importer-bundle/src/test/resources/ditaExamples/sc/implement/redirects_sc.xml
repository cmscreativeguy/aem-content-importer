<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept id="concept_F9132879D0CB4AC1BE7AF45E388A47F7"> 
  <title> 
	 <keyword>Analytics</keyword> and Redirects</title> 
  <shortdesc> 
	 <keyword>Analytics</keyword> gathers some of its data from the browser, and
	 relies upon certain browser properties. Two of those properties, the "Referring
	 URL" (or "referrer") and the "Current URL" can be changed by a server-side
	 redirect. Because the browser is aware that one URL has been requested, but a
	 different URL has been returned, it clears the Referring URL. The result is the
	 referring URL is blank, and 
	 <keyword>Analytics</keyword> might report that no referrer existed for the
	 page. 
  </shortdesc> 
  <prolog> 
	 <metadata> 
		<othermeta name="solution" content="Analytics"/> 
		<othermeta name="topic" content="Developer and implementation"/> 
		<othermeta name="subtopic" content="Redirects"/> </metadata>
  </prolog> 
  <conbody> 
	 <p>The following examples illustrate how browsing is affected without and
		with redirects: 
	 </p> 
	 <p> 
	 <ul id="ul_C929EEA62FBA4E339F92661B5B622304"> 
		<li id="li_2CE198A0BB90497AAD6015DFF385FDE8"> 
		  <xref
			href="redirects_sc.xml#concept_F9132879D0CB4AC1BE7AF45E388A47F7/section_5C835A4D665A4625A23333C2C21F152D"
			type="section" format="dita" scope="local"> <?xm-replace_text Example: Browsing Without Redirects?>
		  </xref> 
		</li> 
		<li id="li_E01AA4A1B82245ACA10C4FF49BC73DA5"> 
		  <xref
			href="redirects_sc.xml#concept_F9132879D0CB4AC1BE7AF45E388A47F7/section_921DDD32932847848C4A901ACEF06248"
			type="section" format="dita" scope="local"> <?xm-replace_text Example: Browsing With Redirects?>
		  </xref> 
		</li> 
	 </ul> 
	 </p> 
	 <section id="section_5C835A4D665A4625A23333C2C21F152D"> 
		<title> Example: Browsing Without Redirects</title> 
		<p> Consider the following hypothetical scenario in which the user does
		  not encounter a redirect: 
		</p> 
		<p> 
		<ol id="ol_E76801E494C145AD9CE77B83FD7EF794"> 
		  <li id="li_2C4720D9FEDC485EB6B13A1C970840FE"> 
			 <p>User points his or her browser to 
				<filepath>www.google.com</filepath>, and types, "discount airline
				tickets" into the search field, and then clicks the 
				<uicontrol>Search</uicontrol> button. 
			 </p> 
		  </li> 
		  <li id="li_BD9D7A693F5D40F4B52429030312E513"> 
			 <p>The browser displays the search results including a link to your
				site, 
				<filepath>http://www.flywithus.com/</filepath>. After displaying
				the search results, the browser's address bar displays the search terms that
				the user entered in the search field
				(<codeph>http://www.google.com/search?hl=en&amp;ie=UTF-8&amp;q=discount+airline+tickets</codeph>).
				Notice that the search terms are included in the URL query string parameters
				that follow 
				<codeph>http://www.google.com/search?</codeph>. 
			 </p> 
		  </li> 
		  <li id="li_5C780F325FDB4E82B80ABF876C85B58D"> 
			 <p>The user clicks the link to your hypothetical site<filepath>
				  http://www.flywithus.com/</filepath>. When the user clicks this link and lands
				on the 
				<filepath>flywithus.com</filepath> website, 
				<keyword>Analytics</keyword> uses JavaScript to collect the
				referring URL
				(<filepath>http://www.google.com/search?hl=en&amp;ie=UTF-8&amp;q=discount+airline+tickets</filepath>)
				as well as the current URL (<filepath>http://www.flywithus.com/</filepath>). 
			 </p> 
		  </li> 
		  <li id="li_E6A7ECF677D844F28C66D47B30EFD47E"> 
			 <p> 
				<keyword>Analytics</keyword> reports the information collected
				during this interaction in various reports, such as 
				<wintitle>Referring Domains</wintitle>, 
				<wintitle>Search Engines</wintitle>, and 
				<keyword>Search Keywords</keyword>. 
			 </p> 
		  </li> 
		</ol> 
		</p> 
	 </section> 
	 <section id="section_921DDD32932847848C4A901ACEF06248"> 
		<title>Example: Browsing With Redirects</title> 
		<p>Redirects can cause the browser to blank out the true referring URL.
		  Consider the following scenario: 
		</p> 
		<p> 
		<ol id="ol_21886010FB6B4E02B0754B37C835CF90"> 
		  <li id="li_269B2C04EAE8495BB3A31FDD0C314EB5"> 
			 <p>User points his or her browser to 
				<filepath>www.google.com</filepath>, and types, "discount airline
				tickets" into the search field, and then clicks the 
				<uicontrol>Search</uicontrol> button. 
			 </p> 
		  </li> 
		  <li id="li_861976554083406FA127695E9BE71326"> 
			 <p>The browser window's address bar displays the search terms that
				the user typed into the search field
				(<filepath>http://www.google.com/search?hl=en&amp;ie=UTF-8&amp;q=discount+airline+tickets</filepath>).
				Notice that the search terms are included in the URL query string parameters
				that follow "<filepath>http://www.google.com/search?</filepath>". The browser
				also displays a page that contains the search results including a link to one
				of your domain names: 
				<filepath>http://www.flytohawaiiforfree.com/</filepath>. This 
				<i>vanity</i> domain is configured to redirect the user
				to<filepath> http://www.flywithus.com/</filepath>. 
			 </p> 
		  </li> 
		  <li id="li_B3A4056813424490BF25F8C14824628F"> 
			 <p>The user clicks on the link 
				<filepath>http://www.flytohawaiiforfree.com/</filepath> and is
				redirected by the server to your main site, 
				<filepath>http://www.flywithus.com</filepath>. When the redirection
				occurs, the data that is important to 
				<keyword>Analytics</keyword> data collection is lost because the
				browser clears the referring URL. Thus, the original search information used in
				the 
				<keyword>Analytics</keyword> reports (for example, 
				<wintitle>Referring Domains</wintitle>, 
				<wintitle>Search Engines</wintitle>, 
				<wintitle>Search Keywords</wintitle>) is lost. 
			 </p> 
		  </li> 
		</ol> 
		</p> 
	 </section> 
	 <section id="section_C46D60203C2247CBBDA210440033781B"> 
		<p> 
		  <xref
			href="redirects_implement.xml#concept_5EC2EE9677A44CC5B90A38ECF28152E7"
			type="concept" format="dita" scope="local"><?xm-replace_text Implementing Redirects?></xref>
		  discusses how to leverage 
		  <keyword>Analytics</keyword> variables to capture the data lost in the
		  redirect. Specifically, the section discusses how to fix the "discount airline
		  tickets" situation described above. 
		</p> 
	 </section> 
  </conbody> 
</concept>
