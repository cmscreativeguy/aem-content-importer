<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd">
<concept id="concept_19715BA0AD4D41748E0C4A4A6B71AB51"> 
  <title>dynamicAccountList</title> 
  <shortdesc>AppMeasurement for JavaScript can dynamically select a report
	 suite to which it sends data. The 
	 <varname>dynamicAccountList</varname> variable contains the rules used to
	 determine the destination report suite. 
  </shortdesc> 
  <prolog> 
	 <metadata> 
		<othermeta name="solution" content="Analytics"/> 
		<othermeta name="topic" content="Developer and implementation"/> 
		<othermeta name="subtopic" content="Variables"/> </metadata>
  </prolog> 
  <conbody> 
	 <table id="table_C1963B0B800F445296E1E8E485B132A2"> 
		<tgroup cols="4"> 
		  <colspec colnum="1" colname="col1" colwidth="*"/> 
		  <colspec colnum="2" colname="col2" colwidth="*"/> 
		  <colspec colnum="3" colname="col3" colwidth="*"/> 
		  <colspec colnum="4" colname="col4" colwidth="*"/> 
		  <thead> 
			 <row> 
				<entry> Max Size 
				</entry> 
				<entry> Debugger Parameter 
				</entry> 
				<entry> Reports Populated 
				</entry> 
				<entry> Default Value 
				</entry> 
			 </row> 
		  </thead> 
		  <tbody> 
			 <row> 
				<entry> N/A 
				</entry> 
				<entry> N/A 
				</entry> 
				<entry> N/A 
				</entry> 
				<entry> "" 
				</entry> 
			 </row> 
		  </tbody> 
		</tgroup> 
	 </table> 
	 <p>This variable is used in conjunction with the 
		<varname>dynamicAccountSelection</varname> and 
		<varname>dynamicAccountMatch</varname> variables. The rules in 
		<varname>dynamicAccountList</varname> are applied if 
		<varname>dynamicAccountSelection</varname> is set to 'true,' and they
		apply to the section of the URL specified in 
		<varname>dynamicAccountMatch</varname>. 
	 </p> 
	 <p>If none of the rules in 
		<varname>dynamicAccountList</varname> matches the URL of the page, the
		report suite identified in 
		<varname>s_account</varname> is used. The rules listed in this variable
		are applied in a left-to-right order. If the page URL matches more than one
		rule, the left-most rule is used to determine the report suite. As a result,
		your more generic rules should be moved to the right of the list. 
	 </p> 
	 <p>In the following examples, the page URL is 
		<filepath>http://www.mycompany.com/path1/?prod_id=12345</filepath>, 
		<varname>dynamicAccountSelection</varname> is set to 'true,' and 
		<varname>s_account</varname> is set to "mysuitecom." 
	 </p> 
	 <table id="table_4ED8EF88B63F4CC085D65D160EF7A822"> 
		<tgroup cols="3"> 
		  <colspec colnum="1" colname="col1" colwidth="*"/> 
		  <colspec colnum="2" colname="col2" colwidth="*"/> 
		  <colspec colnum="3" colname="col3" colwidth="*"/> 
		  <thead> 
			 <row> 
				<entry> DynamicAccountList Value 
				</entry> 
				<entry> DynamicAccountMatch Value 
				</entry> 
				<entry> Report Suite to Receive Data 
				</entry> 
			 </row> 
		  </thead> 
		  <tbody> 
			 <row> 
				<entry> mysuite2=www2.mycompany.com;mysuite1=mycompany.com" 
				</entry> 
				<entry> window.location.host 
				</entry> 
				<entry> mysuite1 
				</entry> 
			 </row> 
			 <row> 
				<entry> "mysuite1=path4,path1;mysuite2=path2" 
				</entry> 
				<entry> window.location.pathname 
				</entry> 
				<entry> mysuite1, mysuite2 
				</entry> 
			 </row> 
			 <row> 
				<entry> "mysuite1=path5" 
				</entry> 
				<entry> window.location.pathname 
				</entry> 
				<entry> mysuitecom, mysuite1 
				</entry> 
			 </row> 
			 <row> 
				<entry> "myprodsuite=prod_id" 
				</entry> 
				<entry> window.location.search?window.location.search:"?") 
				</entry> 
				<entry> myprodsuite 
				</entry> 
			 </row> 
		  </tbody> 
		</tgroup> 
	 </table> 
	 <section id="section_7360E4354ED345E8BAAE210DBD58A7EC"> 
		<title>Syntax and Possible Values</title> 
		<p>The 
		  <varname>dynamicAccountList</varname> variable is a semicolon-separated
		  list of name=value pairs (rules). Each piece of the list should contain the
		  following items: 
		</p> 
		<ul id="ul_02A2C98BEDA0488F85295913F280825E"> 
		  <li id="li_597AB145DE314204A6AD4A1361B39EAD">one or more report suite
			 ID (separated by commas) 
		  </li> 
		  <li id="li_0433732508BA49ACA050CF4B5F715DD1"> an equals sign 
		  </li> 
		  <li id="li_9629E5C493484E2DAE2BA4B88709495F">one or more URL filters
			 (comma-separated) 
		  </li> 
		</ul> 
		<codeblock outputclass="syntax javascript">s.dynamicAccountList=rs1[,rs2]=domain1.com[,domain2.com/path][;...]</codeblock> 
		<p>Only standard ASCII characters should be used in the string (no
		  spaces). 
		</p> 
	 </section> 
	 <section id="section_49936D14EF6D45859B666C9E7A4CBA9E"> 
		<title>Examples</title> 
		<codeblock outputclass="syntax javascript">s.dynamicAccountList="mysuite2=www2.mycompany.com;mysuite1=mycompany.com"</codeblock> 
		<codeblock outputclass="syntax javascript">s.dynamicAccountList="ms1,ms2=site1.com;ms1,ms3=site3.com"</codeblock> 
	 </section> 
	 <section id="section_9F99CD741BC7449B8CCC108094B2EB85"> 
		<title> Configuration Settings</title> 
		<p>None 
		</p> 
	 </section> 
	 <section id="section_3E10534FCC05457AB67147BB480C8BB3"> 
		<title>Pitfalls, Questions, and Tips</title> 
		<ul id="ul_432BE470826E489D8C79E039A2DFDEFA"> 
		  <li id="li_5ED5924845854532A590304DA3433901">Dynamic account selection
			 is not supported by 
			 <xref
			 href="appmeasure_mjs.xml#concept_F3957D7093A94216BD79F35CFC1557E8"
			 format="dita" scope="local"><?xm-replace_text AppMeasurement for JavaScript?></xref>.
		  </li>
		  <li id="li_705645899D964DAAA83537BF5D809365">If the page URL matches
			 multiple rules, the furthest rule on the left is used. 
		  </li> 
		  <li id="li_7000DFF07AF645DBB655B522484272B0">If no rules match, the
			 default report suite is used. 
		  </li> 
		  <li id="li_5FEAFB121AC04399ACFF5B63A018BF7D">If your page is saved to
			 someone's hard drive or translated via a web-based translation engine (such as
			 Google's translated pages), the dynamic account selection probably won't work.
			 For more precise tracking, populate the 
			 <varname>s_account</varname> variable server-side. 
		  </li> 
		  <li id="li_6CF1A1A508734F209E912C2AFB8D6F78"> The 
			 <varname>dynamicAccountSelection</varname> rules apply only to the
			 section of the URL specified in 
			 <varname>dynamicAccountMatch</varname>. 
		  </li> 
		  <li id="li_6BAB5780F0C8405598BFDBFFA70C58E5">When using dynamic account
			 selection, be sure to update 
			 <varname>dynamicAccountList</varname> every time you obtain a new
			 domain. 
		  </li> 
		  <li id="li_AE8D6DEF95B141D3B1510B1AAE57579E"> Use the 
			 <keyword>DigitalPulse Debugger</keyword> when trying to identify the
			 destination report suite. The 
			 <varname>dynamicAccountSelection</varname> variable always overrides
			 the value of 
			 <varname>s_account</varname>. 
		  </li> 
		</ul> 
	 </section> 
  </conbody> 
</concept>
