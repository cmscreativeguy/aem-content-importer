<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd"[]>
<concept id="concept_641973B03E6341EEA74710491E60DE97">
  <title> Tag Container Environments</title>
  <shortdesc>
    <keyword>Tag management</keyword> provides a dev, stage, and live
	 environment for each tag container. Each environment has a separate current
	 version and revision history. 
  </shortdesc>
  <prolog>
    <metadata>
      <othermeta name="solution" content="Analytics" />
      <othermeta name="topic" content="Developer and implementation" />
      <othermeta name="subtopic" content="Tag management" />
    </metadata>
  </prolog>
  <conbody>
    <p>
      <keyword>Tag management</keyword> uses the same page code for each
		environment. This lets you test multiple code versions on the same site without
		requiring page-level changes. You can use these environments to align with your
		existing release process. For example, your development team can use the dev
		version of the tag container to test changes directly on your live site without
		impacting the live version. 
	 </p>
    <section id="section_DA9C46AD31F14E08862C45951EBD48B9">
      <title>Selecting the Tag Container Environment</title>
      <p>When you load a page that includes the tag loader, an attempt is made
		  to load the current live version of the tag container. To instruct the tag
		  loader to retrieve the version from the stage or dev environment, you can set a
		  cookie in your browser that instructs the JavaScript tag loader to retrieve a
		  different version: 
		</p>
      <p>
        <image placement="break" align="center" href="graphics/tag_container_version2.png" width="350px" height="267px" id="image_67BA7E08FB0D44C087FB23FD203B483B"></image>
      </p>
      <p>The cookie can be set using the bookmarklets available in the 
		  <keyword>tag management</keyword> interface. If your browser does not
		  support adding the bookmarklet, you can manually create a bookmark by copying
		  and pasting the URL: 
		</p>
      <codeblock outputclass="syntax javascript">javascript:document.cookie='s_tagEnv=dev;%20path=/';void(0)</codeblock>
      <p>These bookmarklets can be used to quickly switch between the current
		  versions in each environment. 
		</p>
    </section>
    <section id="section_13DAAF1D05B0499D92E39E32EAA5A1E9">
      <title>Setting the Dev Cookie to Test a New Tag Container</title>
      <p>When you create a tag container, a version is initially created in the
		  dev environment only. There is no version of this tag container deployed to the
		  stage or production environments: 
		</p>
      <p>
        <image placement="break" align="center" href="graphics/tag_dev_environment.png" width="403px" height="355px" id="image_077FE721E6B84F11B11331611A42CB19"></image>
      </p>
      <p>
        <image placement="break" align="center" href="graphics/tag2_versions_dev.png" width="244px" height="107px" id="image_BF3F8C9544E64E71B3D7FBB356F9B3F0"></image>
      </p>
      <p>If you browse to a site that includes the tag loader without setting
		  the dev cookie, an attempt is made to load the live version. Since there isn't
		  a version in live, the tag container is not found and the loader fails
		  gracefully. 
		</p>
      <p>If a tag container fails to load make sure the dev cookie is set
		  correctly or that you have promoted a live version of the tag container. 
		</p>
    </section>
  </conbody>
</concept>