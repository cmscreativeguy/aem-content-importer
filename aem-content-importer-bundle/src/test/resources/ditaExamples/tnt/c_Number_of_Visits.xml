<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd"[]>
<concept id="concept_2F5EFE2725434BB2861545D38F3D40E5" xmlns:ditaarch="http://dita.oasis-open.org/architecture/2005/" ditaarch:DITAArchVersion="1.1" domains="(topic ui-d) (topic hi-d) (topic pr-d) (topic sw-d)                          (topic ut-d) (topic indexing-d)" class="- topic/topic concept/concept ">
  <title class="- topic/title ">Number of Visits</title>
  <shortdesc class="- topic/shortdesc ">You can track the number of times a
	 single visitor visits your site. 
  </shortdesc>
  <prolog>
    <metadata>
      <othermeta name="solution" content="Target" />
      <othermeta name="topic" content="Advanced" />
    </metadata>
  </prolog>
  <conbody class="- topic/body  concept/conbody ">
    <p class="- topic/p ">For a profile attribute, write a script to increment
		a counter whenever a new session is recognized. You'll then reference the
		script profile parameter in several expression targeters (target tab), which
		will be used in the campaign edit page. Here is the script: 
	 </p>
    <p class="- topic/p ">
      <codeblock outputclass="syntax html">user.numVisits

if(user.sessionId!=user.getLocal('lastSessionId')) {

   user.setLocal('lastSessionId', user.sessionId);

   return (user.get('numVisits') || 0) + 1;

} </codeblock>
    </p>
    <p class="- topic/p ">Create five expression targets (you may choose more):
		
	 </p>
    <p class="- topic/p ">
      <codeblock outputclass="syntax html">0visits:
return typeof(user.get('numVisits')) == 'undefined';

1visit:
return user.get('numVisits') == 1;

2to9visits:
return user.get('numVisits') &gt; 1 &amp;&amp; user.get('numVisits') &lt; 10;

10to19visits:
return user.get('numVisits') &gt;= 10 &amp;&amp; user.get('numVisits') &lt; 20;

over20visits:
return user.get('numVisits') &gt;= 20;</codeblock>
    </p>
    <p>For more information, see the 
		<xref href="http://marketing.adobe.com/resources/help/en_US/tnt/pdf/js_expression_cheat_sheet.pdf" format="http" scope="external">JavaScript Expression Cheat Sheet (PDF)</xref>. 
	 </p>
  </conbody>
  <!--<related-links class="- topic/related-links ">
    <link href="r_Behavioral_Targeting_Basic_Steps.xml#reference_26AAC9E3D2734CA7B48CF141A68D6030" type="reference" format="dita" scope="local" class="- topic/link ">
      <?xm-replace_text Behavioral Targeting Basic Steps?>
    </link>
    <link scope="local" href="c_Recency_of_Purchase_Visit_Photo_Upload_Etc.xml#concept_E7B20E1D00E84E2AAA9520F35B6F9A2F" type="concept" format="dita" class="- topic/link ">
      <?xm-replace_text Recency of Purchase, Visit, Photo Upload, Etc.?>
    </link>
    <link href="c_Frequency.xml#concept_8BCEBA6DFDA54251BE4E833BBA98C1D4" type="concept" format="dita" scope="local" class="- topic/link ">
      <?xm-replace_text Frequency?>
    </link>
    <link href="c_New_or_Returning_Visitor.xml#concept_5770B59C5C884CA2BE8554B4AD808EF9" type="concept" format="dita" scope="local" class="- topic/link ">
      <?xm-replace_text New or Returning Visitor?>
    </link>
    <link href="c_Active_or_Passive_User.xml#concept_8FFD3C333196441EB0125C69B6D2564F" type="concept" format="dita" scope="local" class="- topic/link ">
      <?xm-replace_text Active or Passive User?>
    </link>
    <link href="c_Total_Amount_Purchased.xml#concept_BB18B8B9C1474930BFB460B30B410556" type="concept" format="dita" scope="local" class="- topic/link ">
      <?xm-replace_text Total Amount Purchased?>
    </link>
    <link href="c_Highest_Amount_Spent_in_a_Single_Order.xml#concept_79EF6AB3EE8645429D735830FF2B6057" type="concept" format="dita" scope="local" class="- topic/link ">
      <?xm-replace_text Highest Amount Spent in a Single Order?>
    </link>
    <link href="c_Time_of_Day_and_Day_of_Week.xml#concept_54D8899EB05B477895EB1309DB164438" type="concept" format="dita" scope="local" class="- topic/link ">
      <?xm-replace_text Time of Day and Day of Week?>
    </link>
  </related-links>
-->
</concept>