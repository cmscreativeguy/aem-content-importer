<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd"[]>
<concept id="concept_C99D0F5B92BE48A4B17AC98BBECF6761">
  <title>Interest Area Discovery Phases</title>
  <shortdesc>The more high cohesion interest areas that are discovered, the
	 more fine-grained variables that can be used for learning about user interest
	 areas in the modeling algorithms. 
  </shortdesc>
  <prolog>
    <metadata>
      <othermeta name="solution" content="Target" />
      <othermeta name="topic" content="Advanced" />
    </metadata>
  </prolog>
  <conbody>
    <p>The division of a site into interest areas is mostly based on the
		structure provided by sitemaps. Sitemaps provide the index of most of the
		resources available in the website and are kept updated regularly by the host. 
	 </p>
    <p>Interest areas are discovered in the following phases. 
	 </p>
    <section id="section_145214CC13BC4FAC80E4D4FEA4E6E365">
      <title>Content Acquisition</title>
      <p>The content of all of the websites for a particular client is acquired
		  every three weeks. To start crawling, Target requests the top 50 hosts that
		  account for 90% of entire traffic for that customer. For each host, the most
		  popular URLs are requested. These URLs serve as an entry point (seed URLs) for
		  Nutch crawling. In case Target has a previous run of the interest areas, all of
		  the previous sitemaps are added to the list of the current seed URLs. As many
		  as 15 levels are crawled with a limit of 100,000 URLs per level across all
		  hosts. 
		</p>
    </section>
    <section id="section_6F5A57839F554F55A83EC617D9B20E72">
      <title>Indexing</title>
      <p>The acquired content is indexed. The index for one page has the
		  following fields: 
		</p>
      <p>
        <ul id="ul_C60F7FD0D52740BCB40B402A58F72BAE">
          <li id="li_DEF1D26322024D02A9075BB0EFF41380">URL 
		  </li>
          <li id="li_EEE440644EB64F4CB0353DBA469D7826">Title 
		  </li>
          <li id="li_6A421C351B94422B84A4955699724901">Anchor 
		  </li>
          <li id="li_0F524D0F5276436785A85D211D69C212">Host 
		  </li>
          <li id="li_7EAB0EF1F09344969C73B79E4E0287E8">Content 
		  </li>
          <li id="li_FAE83C5EE3B14EC29D888B1BD81A808F">Inlinks 
		  </li>
        </ul>
      </p>
      <p>Inlinks is a special field that contains a list of the URLs from which
		  a particular entry can be reached (for example, all URLs that lead to the
		  current page). 
		</p>
    </section>
    <section id="section_7B475770E1734D73813F56717BF23B07">
      <title>Sitemaps Discovery</title>
      <p>Target attempts to find all available sitemaps. Because the entire
		  content is indexed, the sitemap URLs are relatively easy to discover. A URL
		  that contains any of the sitemap variants is considered to be a sitemap. The
		  variants are case insensitive: 
		</p>
      <p>
        <ul id="ul_AF4B5C7AA8B348C4909CBDAE3FF65243">
          <li id="li_AC375422EA0A443E8A178BB2FB3F9866">sitemap 
		  </li>
          <li id="li_4E49ACDEBE4E483AB1A6AE9F229F9643">site-map 
		  </li>
          <li id="li_0B6B895003354C209B362D7A90BBD401">site map 
		  </li>
        </ul>
      </p>
    </section>
    <section id="section_69016B0669404BC9BE05EA007CD35531">
      <title>Interest Area Names (Topics) Discovery</title>
      <p>Sitemaps usually provide 
		  <codeph>href</codeph> anchors for each of the available resources on
		  the site. Each anchor becomes an interest area name (topic). In other words,
		  every URL on the sitemap results in an interest area. The number of sitemaps
		  and the number of URLs they contain limits the number of interest areas. This
		  limitation is a rigid factor at times, given that there are no more than
		  several hundred resources in one sitemap, when, at the same time, the number of
		  pages in a site could be up to several hundred thousand. 
		</p>
      <p>In case there is no anchor for a URL provided by the sitemap (such as
		  can be the case with images), the page title is used as an interest area name. 
		</p>
      <p>To increase the number of interest areas, each of the home or landing
		  pages is processed the same way as the sitemaps. Because these pages have a
		  high visit rate, they provide a partial insight into the site's most popular
		  topics. 
		</p>
    </section>
    <section id="section_DBE462A51611439688E217E5C7C25D10">
      <title>Interest Area URLs Discovery</title>
      <p>To find every page related to a particular topic (interest area name),
		  the index is queried. Not all fields in the index are equally important, so
		  each field is weighted individually. 
		</p>
      <p>These weights are adjusted empirically by analyzing the most important
		  sites. In the tradition of SEO best practices, the following preferences are
		  used: 
		</p>
      <p>
        <ul id="ul_7F219D3D7B314573893665638644EE5C">
          <li id="li_E468E59F5A954753B2E7CC5F9EA1B44F">Short URLs over longer
			 ones 
		  </li>
          <li id="li_B7AA7771EE9A46179C8724B16C038A9C">Longer anchors over short
			 ones 
		  </li>
          <li id="li_4395CD89513A4073AE2E3C785E1F9B05">More content over less 
		  </li>
        </ul>
      </p>
      <p>Because most of the interest area names are at least two words long,
		  open-sourced algorithms are used that ensure the following:
		</p>
      <p>
        <ul id="ul_15771BE7D342481EA5E8277E16BA3BE7">
          <li id="li_A71F9FC1F8654CE0BFEC49A89031903A">Case-insensitive search
		  </li>
          <li id="li_A09B1F6EF53145B99D60E0C4A8B322BA">Filtering of non-letter
			 characters
		  </li>
          <li id="li_BECFD2FDEECA41AB84E986AD3743C77D">Score calculations based
			 on the relative distance between the queried words in the matched record
		  </li>
        </ul>
      </p>
      <p>The 100 URLs with highest score are filtered out of the list
		  containing the results returned from the index. 
		</p>
    </section>
  </conbody>
</concept>