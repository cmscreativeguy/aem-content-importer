<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "task.dtd"[]>
<task id="task_F9984F9B30CD4BF096503B245B530C95">
  <title>Campaign View API</title>
  <shortdesc>The Campaign View API displays campaign information in your own
	 application or in a report widget on your system. 
  </shortdesc>
  <prolog>
    <metadata>
      <othermeta name="solution" content="Target" />
      <othermeta name="topic" content="Advanced" />
    </metadata>
  </prolog>
  <taskbody>
    <context id="context_FB506C6624A94E98A5932402606EC3DF">
      <p>
        <b>When to Use</b>
      </p>
      <p>
        <ul id="ul_3E3862B79330442BA4A877B74CA43D0C">
          <li id="li_EB93649743CB40B8B50C0945D3AC990A"> When you want to display
			 customized campaign information in an application 
		  </li>
          <li id="li_F31D6DCAA83B49C893DF17A694CFE3D2"> When you want to display
			 campaign information in a widget 
		  </li>
        </ul>
      </p>
      <p>
        <b>Implement</b>
      </p>
    </context>
    <steps id="steps_D101DBB831DC420EAA3D6498412E20F5">
      <step id="step_C2B9895EAD8649358A21E9DFB21BD682">
        <cmd>Create the base URL. 
		  </cmd>
        <stepresult>
          <p>Example URL: 
			 </p>
          <p>
            <table id="table_EB872BE700BD40DEBA38E766BAC83B66">
              <tgroup cols="1">
                <colspec colnum="1" colname="col1" colwidth="*" />
                <tbody>
                  <row>
                    <entry colname="col1">
                      <p>
                        <codeph>https://admin.testandtarget.omniture.com/admin/api​?operation=viewCampaign&amp;id=NNNN
								&amp;thirdyPartyId
								=MMMM&amp;client=acme&amp;company=acmeco&amp;​email=john@acme.com&amp;password=mysecret</codeph>
                      </p>
                    </entry>
                  </row>
                </tbody>
              </tgroup>
            </table>
          </p>
          <p>where: 
			 </p>
          <p>
            <ul id="ul_8C4291DD2C364C9DA1713E4B45862C88">
              <li id="li_DD1F0A865AD3402CB3B251A2734E25B9">
                <b>operation=viewCampaign</b> is the operation to display a
				  campaign from Test&amp;Target as specified by the campaign ID. 
				</li>
              <li id="li_65766D7D26A540AC9894E18D9B72DCC5">
                <b>id=NNNNN</b> is the campaign ID. You must send either the
				  third party ID or the campaign ID, but cannot send both. 
				</li>
              <li id="li_310D2E50DC4A4E27BE8663543EA0CDDD">
                <b>thirdPartyId=MMMMM</b> is the 3rd party id for the campaign.
				  You must send either the third party ID or the campaign ID, but cannot send
				  both. 
				</li>
              <li id="li_4767F7ECA5E24DBCAFB90155E4F7D196">
                <b>client=acme</b> is the client code. You must send either 
				  <codeph>client</codeph> or 
				  <codeph>company</codeph>, but cannot send both. 
				</li>
              <li id="li_BD1E7AD5631348068FDB86F7897915C8">
                <b>company=acmeco</b> is the Analytics company name. This can be
				  used in place of the Test&amp;Target client code of the Target/Analytics
				  integration has been set up. You must send either 
				  <codeph>client</codeph> or 
				  <codeph>company</codeph>, but cannot send both. 
				</li>
              <li id="li_F6D4874447024329996E9FB0F829205A">
                <b>email=john@acme.com</b> is the email address of a user with
				  REST privileges. 
				</li>
              <li id="li_0E0B414309864BDCA1EDBC5C6C6A3B9D">
                <b>password</b> is the password you use to log in to Target. 
				</li>
              <li id="li_656D9CE194CE477B9C8AF0FB7E2D3B6B">
                <b>version=1</b> is the version of the request, which defaults to
				  the latest if not provided. This version is 1. 
				</li>
            </ul>
          </p>
          <p>If a campaign is found that matches the campaign ID or 
				<codeph>thirdPartyId</codeph> then XML describing the campaign is
				returned. For example: 
			 </p>
          <p>
            <codeblock outputclass="syntax html">&lt;campaign&gt;

   &lt;id&gt;NNNN&lt;/id&gt;

   &lt;thirdPartyId&gt; third party id supplied by the client if any &lt;/ thirdPartyId&gt;

   &lt;name&gt; Campaign Name &lt;/name&gt;

   &lt;state&gt;approved|paused|deactivated|saved|deleted&lt;/state&gt;

   &lt;enabled&gt;true|false&lt;/enabled&gt; &lt;!--(only 'approved' and 'paused' will mean enabled)--&gt;

   &lt;startDate&gt;YYYY-mm-DDTMM:HH:SS&lt;/startDate&gt;

   &lt;endDate&gt;YYYY-mm-DDTMM:HH:SS&lt;/endtDate&gt;

 

&lt;displayLocations&gt;

   &lt;location&gt;

      &lt;targetExpression&gt;

         &lt;targetMbox&gt;

            &lt;name&gt;mboxName&lt;/name&gt;

         &lt;/targetMbox&gt;

         &lt;targetParameter&gt;

            &lt;type&gt;url&lt;/type&gt;

            &lt;name&gt;ad&lt;/name&gt;

            &lt;matcher&gt;equalsIgnoreCase&lt;/matcher&gt;

            &lt;values&gt;

            &lt;value&gt;A&lt;/value&gt;

            &lt;value&gt;B&lt;/value&gt;

            &lt;/values&gt;

         &lt;/targetParameter&gt;

         &lt;targetUnknown/&gt; &lt;!--(for currently unsupported targets)--&gt;

            &lt;!--(other types of targetX in the future)--&gt;

      &lt;/targetExpression&gt;

   &lt;/location&gt;

   &lt;location&gt;

      &lt;targetExpression&gt;

         &lt;targetMbox&gt;&lt;name&gt;homePageHero&lt;/name&gt;&lt;targetMbox&gt;    
     
         &lt;targetParameter&gt;

            &lt;type&gt;mbox&lt;/type&gt;

            &lt;name&gt;age&lt;/name&gt;

            &lt;matcher&gt;equals&lt;/matcher&gt;

            &lt;values&gt;

            &lt;value&gt;33&lt;/value&gt;

            &lt;/values&gt;

         &lt;/targetParameter&gt;

      &lt;/targetExpression&gt;
         
   &lt;/location&gt;

&lt;/displayLocations&gt;

 

   &lt;branches&gt;

      &lt;branch&gt;

         &lt;id&gt;NNNN&lt;/id&gt; &lt;!-- (experience model ID - doesn't change even on client migration) --&gt;

         &lt;name&gt; branch name, e.g. Experience A&lt;/name&gt;

         &lt;description&gt; branch description &lt;/description&gt;

         &lt;targets&gt; .... experience targeting - same type as targets from displayTargets &lt;/targets&gt;

         &lt;offers&gt;

            &lt;displayLocation location="/campaign/​displayLocations/location [1]"&gt;

            &lt;offerHTML&gt; &lt;!--(for anonymous offers)--&gt;

            &lt;html&gt;...&lt;/html&gt;

            &lt;/offerHTML&gt;

            &lt;/displayLocation&gt;

            &lt;displayLocation location="/campaign/​displayLocations/location [2]"&gt;
            
            &lt;offerNamed&gt;

            &lt;id&gt;ID&lt;/id&gt;

            &lt;name&gt;offer name&lt;/name&gt;

            &lt;offerRedirect&gt;

            &lt;url&gt;http://client.com/page.html&lt;/url&gt;

            &lt;/offerRedirect&gt;

            &lt;/displayLocation&gt;

            &lt;displayLocation location="/campaign/​displayLocations/location [3]"&gt;

            &lt;offerDefault/&gt;

            &lt;/displayLocation&gt;

         &lt;/offers&gt;

      &lt;/branch&gt;

      &lt;branch&gt; ... can have more branches here .... &lt;/branch&gt;

   &lt;/branches&gt;

&lt;/campaign&gt; </codeblock>
          </p>
          <p>
            <b>Supported Targets</b>
          </p>
          <p>
            <ul id="ul_CB2DBD92C3174A1BB4A5E49BE03E3B5C">
              <li id="li_6C3D0BD0ABEC44FFAE9E809C3EF0B31F"> mbox name 
				  <p><codeph>&lt;targetMbox&gt;&lt;name&gt;mboxName&lt;/name&gt;&lt;/targetMbox&gt;</codeph></p></li>
              <li id="li_EA6E6C70D76142E5AEE789023884D96D"> mbox and url
				  parameter targeting 
				  <p><codeblock outputclass="syntax html">&lt;targetParameter&gt;

   &lt;type&gt;url|mbox&lt;/type&gt;

   &lt;name&gt;parameter name&lt;/name&gt;

   &lt;matcher&gt;equals|equalsIgnoreCase|etc&lt;/matcher&gt;

   &lt;values&gt;

      &lt;value&gt;value1&lt;/value&gt;

      &lt;value&gt;value2&lt;/value&gt;

      ....

   &lt;/values&gt;

&lt;/targetParameter&gt;</codeblock></p></li>
              <li id="li_87B53BB6BC134EA3940A07B9B56DDB61"> branch percent
				  constraint 
				  <p><codeph>&lt;targetPercent&gt;&lt;percent&gt;95.5&lt;/percent&gt;&lt;/targetPercent&gt;</codeph></p></li>
            </ul>
          </p>
          <p>
            <b>Supported Offers</b>
          </p>
          <p>
            <ul id="ul_F72D47589FB54124B81E1671E203161F">
              <li id="li_59EED423612A411789C336FCC1E39FD5"> anonymous html offers
				  
				  <p><codeblock outputclass="syntax html">&lt;offerHTML&gt;

   &lt;html&gt;.... offer content &lt;/html&gt;

&lt;/offerHTML&gt;</codeblock></p></li>
              <li id="li_008F768CE7CB48C6961DF3B08137FDE0"> anonymous redirect
				  offers 
				  <p><codeblock outputclass="syntax html">&lt;offerRedirect&gt;

   &lt;url&gt;http://mysite.com/page.html&lt;/url&gt;

&lt;/offerRedirect&gt;</codeblock></p></li>
              <li id="li_5A984AA568EF44A2A6740EBEE91D8BFA"> default content 
				  <p><codeblock outputclass="syntax html">&lt;offerDefault/&gt;</codeblock></p></li>
              <li id="li_94AE42B107AE4DD6A743AE059E7B4FB4"> currently unsupported
				  offers 
				  <p><codeblock outputclass="syntax html">&lt;offerUnknown&gt;

   &lt;id&gt;ID&lt;/id&gt;

&lt;/offerUnknown&gt;</codeblock></p></li>
              <li id="li_FD10968E008C4B3686FF00552CAC2AA2"> non-anonymous offers 
				  <p><codeblock outputclass="syntax html">&lt;offerNamed&gt;

   &lt;id&gt;ID&lt;/id&gt;

   &lt;name&gt;offer name&lt;/name&gt;

&lt;/offerNamed&gt;</codeblock></p></li>
            </ul>
          </p>
          <p>
            <b>Error Codes</b>
          </p>
          <p>
            <ul id="ul_8D3162C05D3C4DCB8A7539F78A302590">
              <li id="li_F7F62926EC8A4A23878BD093FA1F6EA4"> Authentication error
				  code: 401 
				</li>
              <li id="li_F3165E5BB4B44DCE857439D475B0DBBB"> Invalid request code:
				  400 
				</li>
            </ul>
          </p>
        </stepresult>
      </step>
    </steps>
  </taskbody>
  <related-links>
    <link href="c_Using_the_Campaign_Launch_Pad.xml#concept_632502DD0A6A44E9BC0E96150B531BED" type="concept" format="dita" scope="local">
      <?xm-replace_text Campaigns Launch Pad?>
    </link>
    <link href="c_Using_the_Campaign_Spotlight.xml#concept_B7F1D4C409D7489FB7A5F8E4FDCE2075" type="concept" format="dita" scope="local">
      <?xm-replace_text Campaign Spotlight?>
    </link>
    <link href="c_Using_the_Campaign_List_Page.xml#concept_30B4222387784C64A5DCC95E357F35C3" type="concept" format="dita" scope="local">
      <?xm-replace_text Campaign List?>
    </link>
    <link href="t_Viewing_Campaign_Reports.xml#task_3F3DA568D6704D92B9502A491E231D23" type="task" format="dita" scope="local">
      <?xm-replace_text Campaign Reports?>
    </link>
    <link href="t_Viewing_Campaign_History.xml#task_D3010C3EC94941F79166DF5285647445" type="task" format="dita" scope="local">
      <?xm-replace_text Campaign Change Log?>
    </link>
    <link href="t_Bookmarking_a_Location.xml#task_BBF6C9B9C67D4BA8B3799D00F3EC7509" type="task" format="dita" scope="local">
      <?xm-replace_text Bookmarking a Location?>
    </link>
  </related-links>
</task>