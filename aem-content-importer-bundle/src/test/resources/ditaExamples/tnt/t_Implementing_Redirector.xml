<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE task PUBLIC "-//OASIS//DTD DITA Task//EN" "task.dtd"[]>
<task id="task_8ED3321CD0064A95A20B05DE446860F1">
  <title>Implement Redirector</title>
  <shortdesc>You can use a redirector to track clicks to offsite domains. 
  </shortdesc>
  <prolog>
    <metadata>
      <othermeta name="solution" content="Target" />
      <othermeta name="topic" content="Advanced" />
    </metadata>
  </prolog>
  <taskbody>
    <steps id="steps_360B0177E574433087BE781910ED5CB0">
      <step id="step_30548943DF53438FB0D22DC9EA0204C8">
        <cmd>Follow the instructions for 
			 <xref href="t_Creating_a_Redirector.xml#task_76608B0F73FC45C4A9F125B894DCF821" type="task" format="dita" scope="local">creating a Redirector</xref>. 
		  </cmd>
      </step>
      <step id="step_C0E4FE2543FA4C8292166B7D7167AC97">
        <cmd>In the header of the page with the click link, insert the function
			 below. 
		  </cmd>
        <stepresult>
          <p>This function allows a new mbox--for example, an mbox called
				"trackClicks"--to count the offsite clicks as a visit in your campaign reports.
				Insert the function below the mbox.js reference. 
			 </p>
          <p>
            <codeblock outputclass="syntax html">&lt;script type="text/javascript"&gt;

// Custom function to track clicks on links to offsite domains.

function mboxTrackClick(existingMboxName, trackedMboxName){

var url = mboxFactoryDefault.get(existingMboxName).getURL();

url = url.replace("mbox=" + existingMboxName,"mbox=" + trackedMboxName);

url = url.replace("mboxPage=" + mboxFactoryDefault.getPageId(),"mboxPage=" + mboxGenerateId());

(new Image()).src = url;

}

&lt;/script&gt;</codeblock>
          </p>
        </stepresult>
      </step>
      <step id="step_155CDC0F0B0E4A2E8A95524A07DF7FBF">
        <cmd>On the same page as the function, insert the following code: 
		  </cmd>
        <stepresult>
          <p>
            <codeblock outputclass="syntax html">&lt;div class="mboxDefault"&gt;

&lt;/div&gt;

&lt;script type="text/javascript"&gt;

mboxCreate("tcTest");

&lt;/script&gt;

&lt;a href="http://google.com" onclick="javascript:mboxTrackClick('tcTest', 'testMbox');"&gt;Test&lt;/a&gt;</codeblock>
          </p>
        </stepresult>
      </step>
      <step id="step_A26C7C78227E43B789CA52E64EF20A14">
        <cmd>Select "trackClick" as the conversion mbox, or as a success metric
			 for the campaign. 
		  </cmd>
      </step>
      <step id="step_4699A73342054107BDFDEDB981F201DA">
        <cmd>Complete a thorough Quality Assurance to ensure the "trackClick"
			 mbox reports as expected. 
		  </cmd>
      </step>
    </steps>
  </taskbody>
  <related-links>
    <link href="c_Tracking_Revenue_Per_Offsite_Click.xml#concept_425FAED3DD144094A67AADAAD9FB4A46" type="concept" format="dita" scope="local">
      <?xm-replace_text Tracking Revenue Per Offsite Click?>
    </link>
  </related-links>
</task>