<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE reference PUBLIC "-//OASIS//DTD DITA Reference//EN" "reference.dtd"[]>
<reference id="reference_324B171BB77F4D41BB62FAE8CE80B445">
  <title>Pass Dynamic Data into Offers</title>
  <shortdesc>You can display profile values and campaign information directly
	 in an HTML or Flash Offer. 
  </shortdesc>
  <prolog>
    <metadata>
      <othermeta name="solution" content="Target" />
      <othermeta name="topic" content="Advanced" />
    </metadata>
  </prolog>
  <refbody>
    <refsyn id="refsyn_E8BA4CBBE5EB41239188380317B14F0D">
      <p>
        <b>Business Case</b>
      </p>
      <p> A visitor arrives on your landing page with<codeph>
			 keyword=world</codeph><codeph>cup</codeph>. You display the term 
		  <i>World cup</i> in the offer. 
		</p>
      <p>
        <b> Technical Advantages</b>
      </p>
      <p> Because it is stored in the user profile, you can repeat this message
		  on his next visits. Just one offer or campaign can manage these custom messages
		  for all your visitors. As the visitor's intent changes your website content
		  automatically reflects those changes. 
		</p>
      <p>
        <b>Example</b>
      </p>
      <p>
        <ul id="ul_9FEAAB675A5E4EE98BA29C813E47E3C3">
          <li id="li_948C027BD39A485EAE0B525C2331B6BF">
            <codeph>mboxCreate("landingpage"</codeph>, 
			 <codeph>"profile.keyword=World Cup");</codeph></li>
          <li id="li_5B39FB1E6FCA4CAFB2B9D4E8D83F664B"> HTML Offer code: 
			 <codeph>Get your ${profile.keyword} information here!</codeph></li>
          <li id="li_C849BDA6F0184C3292C90F82D1C8A01D"> User sees: Get your World
			 Cup information here! 
		  </li>
        </ul>
      </p>
      <p>The following values can be "token replaced": 
		</p>
      <p>
        <table id="table_392FA513A3494227A00DCB2B464FFE95">
          <tgroup cols="2">
            <colspec colnum="1" colname="col1" colwidth="1.00*" />
            <colspec colnum="2" colname="col2" colwidth="1.73*" />
            <thead>
              <row>
                <entry colname="col1">Values 
				  </entry>
                <entry colname="col2">Examples 
				  </entry>
              </row>
            </thead>
            <tbody>
              <row>
                <entry colname="col1">
                  <p>In-mbox profile parameters 
					 </p>
                </entry>
                <entry colname="col2">
                  <p>
                    <codeph>${profile.age} 
						</codeph>
                  </p>
                </entry>
              </row>
              <row>
                <entry colname="col1">
                  <p>Script profile parameters 
					 </p>
                </entry>
                <entry colname="col2">
                  <p>
                    <codeph>${user.lifetimeSpend}</codeph>
                  </p>
                </entry>
              </row>
              <row>
                <entry colname="col1">
                  <p>Mbox parameters 
					 </p>
                </entry>
                <entry colname="col2">
                  <p>
                    <codeph>${mbox.favoriteColor}</codeph>
                  </p>
                </entry>
              </row>
              <row>
                <entry colname="col1">
                  <p>Campaign information 
					 </p>
                </entry>
                <entry colname="col2">
                  <p>
                    <codeph>${campaign.name}, ${campaign.recipe.name},
						  ${campaign.id},</codeph>
                  </p>
                  <p>
                    <codeph>${campaign.recipe.id}</codeph>
                  </p>
                  <p>
                    <codeph>${campaign.recipe.trafficType}</codeph>
                  </p>
                </entry>
              </row>
              <row>
                <entry colname="col1">
                  <p>Unique visitor id 
					 </p>
                </entry>
                <entry colname="col2">
                  <p>
                    <codeph>${user. pcId} 
						</codeph>
                  </p>
                </entry>
              </row>
              <row>
                <entry colname="col1">
                  <p>Unique session id 
					 </p>
                </entry>
                <entry colname="col2">
                  <p>
                    <codeph>${user.sessionId} 
						</codeph>
                  </p>
                </entry>
              </row>
              <row>
                <entry colname="col1">
                  <p>Visitor's first session (true or false) 
					 </p>
                </entry>
                <entry colname="col2">
                  <p>
                    <codeph>${user.isFirstSession} 
						</codeph>
                  </p>
                </entry>
              </row>
            </tbody>
          </tgroup>
        </table>
      </p>
      <p>
        <b>Tip:</b> This information can be useful for debugging. 
		</p>
      <p>
        <b> Implementation</b>
      </p>
      <p>For profile parameters passed into an mbox, use the syntax: 
		  <codeph>${profile.parameter}</codeph> For profile parameters created in
		  a script, use the syntax: 
		</p>
      <p>
        <codeph>${user.parameter}</codeph>
      </p>
      <p>These variables are replaced with the value on the server side, so no
		  quotes or other JavaScript is required for the proper display. 
		</p>
      <p>Default values can also be specified for values you wish to expose to
		  offers. The syntax is like this: 
		</p>
      <p>
        <codeph>${user.testAttribute default="All Items!"}</codeph>
      </p>
      <p>When 
		  <codeph>testAttribute</codeph> doesn’t exist or is blank, "All Items!"
		  will be written out. If an empty attribute value is valid, and you want to
		  write it out instead of showing the default, you can use: 
		</p>
      <p>
        <codeph>${user.testAttribute default="All Items!"
			 show_blank="true"}</codeph>
      </p>
      <p>You can also escape and unescape values to be displayed. If your value
		  has an apostrophe for example, you would want to escape the value so it does
		  not break the JavaScript on the page. (Offers are written in JavaScript, so a
		  single apostrophe can be confused for a quote.) For example: 
		</p>
      <p>
        <codeph>${user.encodedValue encode="unescape"}</codeph>
      </p>
      <p>
        <codeph>${user.unencodedValue encode="escape"}</codeph>
      </p>
      <p>
        <note> Please work with your representative to use this feature. 
		  </note>
      </p>
    </refsyn>
  </refbody>
  <related-links>
    <link href="c_Offer_Types.xml#concept_A1A656974158499B87881AFE17BD4137" type="concept" format="dita" scope="local">
      <?xm-replace_text Offer Types?>
    </link>
    <link href="c_Hosting_Offers.xml#concept_3E6955DD79B64733A1189D153461EAEB" type="concept" format="dita" scope="local">
      <?xm-replace_text Offer Hosting?>
    </link>
    <link href="t_Creating_an_HTML_Offer.xml#task_B9CD2E178EAE4EE2AE0F56035A53E5B0" type="task" format="dita" scope="local">
      <?xm-replace_text Create an HTML Offer?>
    </link>
    <!--<link href="t_Creating_an_Image_Offer.xml#task_E59935DAF8ED4E3CA1937A41A25B3F4C" type="task" format="dita" scope="local"><?xm-replace_text Creating an Image Offer?>
	 </link> 
	 -->
    <link href="t_Creating_a_Redirect_Offer.xml#task_9578678D42784F5EB9638F8AC8C911FA" type="task" format="dita" scope="local">
      <?xm-replace_text Creating a Redirect Offer?>
    </link>
    <link href="c_Widget_Offers.xml#concept_32CE8A148D0B4B5483E9A03E35FDBF5A" type="concept" format="dita" scope="local">
      <?xm-replace_text Widget Offers?>
    </link>
    <link href="c_About_Dynamic_Content.xml#concept_657016A0E6174C22B89036E9C8A0170F" type="concept" format="dita" scope="local">
      <?xm-replace_text About Dynamic Content?>
    </link>
    <link href="c_Validating_Offers.xml#concept_60E81920A21A42ABA6980AF60697B260" type="concept" format="dita" scope="local">
      <?xm-replace_text Validating Offers?>
    </link>
    <link href="t_Previewing_Offers_in_an_Mbox.xml#task_B1244801A0304409898CDA985ACE32CD" type="task" format="dita" scope="local">
      <?xm-replace_text Previewing Offers in an Mbox?>
    </link>
    <link href="c_Working_with_Offers.xml#concept_41C0B5DE881A47D4A2687597AEC9BC38" type="concept" format="dita" scope="local">
      <?xm-replace_text Working with Offers?>
    </link>
    <link href="t_Using_Plug-Ins.xml#task_00D8971DF00B4E21A4DDD49D30D81DE0" type="task" format="dita" scope="local" class="- topic/link ">
      <?xm-replace_text Using Plug-Ins?>
    </link>
  </related-links>
</reference>