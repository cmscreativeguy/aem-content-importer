<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE concept PUBLIC "-//OASIS//DTD DITA Concept//EN" "concept.dtd"[]>
<concept id="concept_54D8899EB05B477895EB1309DB164438">
  <title>Time of Day and Day of Week</title>
  <shortdesc>Does a visitor behave differently based on the day or time? For
	 example, is behavior different during work hours than after work hours? 
  </shortdesc>
  <prolog>
    <metadata>
      <othermeta name="solution" content="Target" />
      <othermeta name="topic" content="Advanced" />
    </metadata>
  </prolog>
  <conbody>
    <p>Select 
		<uicontrol>Segments</uicontrol> &gt; 
		<uicontrol>Expression Targets</uicontrol>, then write a script that
		examines the day and time. In order to use the visitor's local time, use the
		special 
		<varname>profile.browserTime</varname> variable. Note that this requires 
		<filepath>mbox.js</filepath> version 36 or later. Here is the strategy
		for work hours versus after work hours, but you can modify for your unique
		situation: 
	 </p>
    <p>Create two expression targets: 
	 </p>
    <p>
      <b>work_hours (eg. M-F 9am-6pm):</b>
    </p>
    <p>
      <codeblock outputclass="syntax html">var today = profile.browserTime;

var hour = today.getHours();

var day = today.getDay();

return (day &gt;= 1) &amp;&amp; (day &lt;= 5) &amp;&amp; (hour &gt;= 9) &amp;&amp; (hour &lt;= 17);</codeblock>
    </p>
    <p>
      <b>after_work:</b>
    </p>
    <p>
      <codeblock outputclass="syntax html">var today = profile.browserTime;

var hour = today.getHours();

var day = today.getDay();

return !((day &gt;= 1) &amp;&amp; (day &lt;= 5) &amp;&amp; (hour &gt;= 9) &amp;&amp; (hour &lt;= 17));</codeblock>
    </p>
    <p>If you're not concerned with the visitor's local time, instantiate a
		JavaScript Date object instead. In this case, you will be using the Target
		server local time, which is EST, so adjust your times appropriately: 
	 </p>
    <p>
      <b>work_hours (eg. M-F 9am-6pm):</b>
    </p>
    <p>
      <codeblock outputclass="syntax html">var today = new Date();

var hour = today.getHours();

var day = today.getDay();

return (day &gt;= 1) &amp;&amp; (day &lt;= 5) &amp;&amp; (hour &gt;= 9) &amp;&amp; (hour &lt;= 17);</codeblock>
    </p>
    <p>
      <b>after_work:</b>
    </p>
    <p>
      <codeblock outputclass="syntax html">var today = new Date();

var hour = today.getHours();

var day = today.getDay();

return !((day &gt;= 1) &amp;&amp; (day &lt;= 5) &amp;&amp; (hour &gt;= 9) &amp;&amp; (hour &lt;= 17));</codeblock>
    </p>
    <p>For more information, see the 
		<xref href="http://marketing.adobe.com/resources/help/en_US/tnt/pdf/js_expression_cheat_sheet.pdf" format="http" scope="external">JavaScript Expression Cheat Sheet (PDF)</xref>. 
	 </p>
    <p>Once the expression targets are created, create a campaign and target
		the experiences accordingly. Note that you should use a landing page campaign
		if your intention is for visitors to switch experiences based on the time.
		Otherwise, they won't switch to the 
		<codeph>after_work</codeph> experience if they're already in the 
		<codeph>work_hours</codeph> experience. 
	 </p>
  </conbody>
  <!--<related-links>
    <link href="r_Behavioral_Targeting_Basic_Steps.xml#reference_26AAC9E3D2734CA7B48CF141A68D6030" type="reference" format="dita" scope="local">
      <?xm-replace_text Behavioral Targeting Basic Steps?>
    </link>
    <link href="c_Number_of_Visits.xml#concept_2F5EFE2725434BB2861545D38F3D40E5" type="concept" format="dita" scope="local">
      <?xm-replace_text Number of Visits?>
    </link>
    <link scope="local" href="c_Recency_of_Purchase_Visit_Photo_Upload_Etc.xml#concept_E7B20E1D00E84E2AAA9520F35B6F9A2F" type="concept" format="dita">
      <?xm-replace_text Recency of Purchase, Visit, Photo Upload, Etc.?>
    </link>
    <link href="c_Frequency.xml#concept_8BCEBA6DFDA54251BE4E833BBA98C1D4" type="concept" format="dita" scope="local">
      <?xm-replace_text Frequency?>
    </link>
    <link href="c_New_or_Returning_Visitor.xml#concept_5770B59C5C884CA2BE8554B4AD808EF9" type="concept" format="dita" scope="local">
      <?xm-replace_text New or Returning Visitor?>
    </link>
    <link href="c_Active_or_Passive_User.xml#concept_8FFD3C333196441EB0125C69B6D2564F" type="concept" format="dita" scope="local">
      <?xm-replace_text Active or Passive User?>
    </link>
    <link href="c_Total_Amount_Purchased.xml#concept_BB18B8B9C1474930BFB460B30B410556" type="concept" format="dita" scope="local">
      <?xm-replace_text Total Amount Purchased?>
    </link>
    <link href="c_Highest_Amount_Spent_in_a_Single_Order.xml#concept_79EF6AB3EE8645429D735830FF2B6057" type="concept" format="dita" scope="local">
      <?xm-replace_text Highest Amount Spent in a Single Order?>
    </link>
  </related-links>
-->
</concept>